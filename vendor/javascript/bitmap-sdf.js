// bitmap-sdf@1.0.4 downloaded from https://ga.jspm.io/npm:bitmap-sdf@1.0.4/index.js

var a={};a=calcSDF;var r=1e20;function calcSDF(a,t){t||(t={});var e=null==t.cutoff?.25:t.cutoff;var n=null==t.radius?8:t.radius;var i=t.channel||0;var o,d,w,h,f,l,v,s,y,c,g;if(ArrayBuffer.isView(a)||Array.isArray(a)){if(!t.width||!t.height)throw Error("For raw data width and height should be provided by options");o=t.width,d=t.height;h=a;l=t.stride?t.stride:Math.floor(a.length/o/d)}else if(window.HTMLCanvasElement&&a instanceof window.HTMLCanvasElement){s=a;v=s.getContext("2d");o=s.width,d=s.height;y=v.getImageData(0,0,o,d);h=y.data;l=4}else if(window.CanvasRenderingContext2D&&a instanceof window.CanvasRenderingContext2D){s=a.canvas;v=a;o=s.width,d=s.height;y=v.getImageData(0,0,o,d);h=y.data;l=4}else if(window.ImageData&&a instanceof window.ImageData){y=a;o=a.width,d=a.height;h=y.data;l=4}w=Math.max(o,d);if(window.Uint8ClampedArray&&h instanceof window.Uint8ClampedArray||window.Uint8Array&&h instanceof window.Uint8Array){f=h;h=Array(o*d);for(c=0,g=Math.floor(f.length/l);c<g;c++)h[c]=f[c*l+i]/255}else if(1!==l)throw Error("Raw data can have only 1 value per pixel");var A=Array(o*d);var u=Array(o*d);var m=Array(w);var M=Array(w);var p=Array(w+1);var x=Array(w);for(c=0,g=o*d;c<g;c++){var C=h[c];A[c]=1===C?0:0===C?r:Math.pow(Math.max(0,.5-C),2);u[c]=1===C?r:0===C?0:Math.pow(Math.max(0,C-.5),2)}edt(A,o,d,m,M,x,p);edt(u,o,d,m,M,x,p);var D=window.Float32Array?new Float32Array(o*d):new Array(o*d);for(c=0,g=o*d;c<g;c++)D[c]=Math.min(Math.max(1-((A[c]-u[c])/n+e),0),1);return D}function edt(a,r,t,e,n,i,o){for(var d=0;d<r;d++){for(var w=0;w<t;w++)e[w]=a[w*r+d];edt1d(e,n,i,o,t);for(w=0;w<t;w++)a[w*r+d]=n[w]}for(w=0;w<t;w++){for(d=0;d<r;d++)e[d]=a[w*r+d];edt1d(e,n,i,o,r);for(d=0;d<r;d++)a[w*r+d]=Math.sqrt(n[d])}}function edt1d(a,t,e,n,i){e[0]=0;n[0]=-r;n[1]=+r;for(var o=1,d=0;o<i;o++){var w=(a[o]+o*o-(a[e[d]]+e[d]*e[d]))/(2*o-2*e[d]);while(w<=n[d]){d--;w=(a[o]+o*o-(a[e[d]]+e[d]*e[d]))/(2*o-2*e[d])}d++;e[d]=o;n[d]=w;n[d+1]=+r}for(o=0,d=0;o<i;o++){while(n[d+1]<o)d++;t[o]=(o-e[d])*(o-e[d])+a[e[d]]}}var t=a;export{t as default};

